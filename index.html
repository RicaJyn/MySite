<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Photo Album</title>

<style>
:root {
  --bg: #ffffff;
  --text: #111;
  --card: #f3f3f3;
  --accent: #444;
}

[data-theme="dark"] {
  --bg: #121212;
  --text: #f5f5f5;
  --card: #1e1e1e;
  --accent: #aaa;
}

body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: var(--bg);
  color: var(--text);
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
}

button {
  background: var(--card);
  color: var(--text);
  border: none;
  padding: 0.6rem 1rem;
  border-radius: 8px;
  cursor: pointer;
}

button:hover {
  opacity: 0.85;
}

.album-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  gap: 1rem;
  padding: 1rem;
}

.album {
  background: var(--card);
  border-radius: 12px;
  padding: 0.8rem;
  text-align: center;
  cursor: pointer;
}

.album img {
  width: 100%;
  border-radius: 8px;
  height: 120px;
  object-fit: cover;
}

.hidden { display: none; }

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: var(--bg);
  padding: 1.5rem;
  border-radius: 12px;
  width: 90%;
  max-width: 400px;
}
</style>
</head>

<body>

<header>
  <h2>üì∏ My Album</h2>
  <div>
    <button onclick="toggleTheme()">üåó</button>
    <button onclick="openLogin()">Admin</button>
  </div>
</header>

<h3 style="padding-left:1rem;">‚≠ê Favorite Album</h3>
<div id="favoriteAlbum" class="album-grid"></div>

<h3 style="padding-left:1rem;">Other Albums</h3>
<div id="albums" class="album-grid"></div>

<!-- LOGIN MODAL -->
<div id="loginModal" class="modal hidden" hidden>
  <div class="modal-content">
    <h3>Admin Login</h3>
    <input id="user" placeholder="Username" style="width:100%;margin-bottom:0.5rem;">
    <input id="pass" type="password" placeholder="Password" style="width:100%;margin-bottom:0.5rem;">
    <button onclick="login()">Login</button>
    <button onclick="closeLogin()">Cancel</button>
  </div>
</div>

<script>
/* ==============================
   CONFIG (ENCRYPTED CREDENTIALS)
================================*/
const ADMIN_USER = "ricajyn";
const ADMIN_PASS_HASH =
"9bb08b44e90a6f19fa88f877ccffbd4c193c7097b5c23c0d44a18c39e91c3b0d";

/* ==============================
   STATE
================================*/
let isAdmin = false;
let albums = JSON.parse(localStorage.getItem("albums")) || [];

/* ==============================
   THEME
================================*/
function toggleTheme() {
  document.body.dataset.theme =
    document.body.dataset.theme === "dark" ? "" : "dark";
}

/* ==============================
   LOGIN
================================*/
async function sha256(text) {
  const buf = await crypto.subtle.digest("SHA-256", new TextEncoder().encode(text));
  return [...new Uint8Array(buf)].map(x => x.toString(16).padStart(2, '0')).join('');
}

async function login() {
  const u = user.value;
  const p = pass.value;
  const hash = await sha256(p);

  if (u === ADMIN_USER && hash === ADMIN_PASS_HASH) {
    isAdmin = true;
    alert("Admin logged in");
    closeLogin();
    render();
  } else {
    alert("Invalid credentials");
  }
}

function openLogin() {
  loginModal.classList.remove("hidden");
}
function closeLogin() {
  loginModal.classList.add("hidden");
}

/* ==============================
   ALBUM RENDERING
================================*/
function render() {
  favoriteAlbum.innerHTML = "";
  albumsDiv.innerHTML = "";

  const fav = albums.find(a => a.favorite);
  if (fav) favoriteAlbum.appendChild(albumCard(fav));

  albums.filter(a => !a.favorite).forEach(a => {
    albumsDiv.appendChild(albumCard(a));
  });

  if (isAdmin) adminControls();
}

function albumCard(album) {
  const div = document.createElement("div");
  div.className = "album";
  div.innerHTML = `
    <img src="${album.cover || ''}">
    <strong>${album.name}</strong>
  `;
  div.onclick = () => openAlbum(album.id);
  return div;
}

/* ==============================
   ADMIN CONTROLS
================================*/
function adminControls() {
  if (!document.getElementById("adminBar")) {
    const bar = document.createElement("div");
    bar.id = "adminBar";
    bar.style.padding = "1rem";
    bar.innerHTML = `
      <button onclick="newAlbum()">‚ûï New Album</button>
    `;
    document.body.insertBefore(bar, albums);
  }
}

function newAlbum() {
  const name = prompt("Album name?");
  if (!name) return;

  albums.push({
    id: Date.now(),
    name,
    photos: [],
    cover: "",
    favorite: albums.length === 0
  });

  save();
}

/* ==============================
   SAVE
================================*/
function save() {
  localStorage.setItem("albums", JSON.stringify(albums));
  render();
}

/* INIT */
const albumsDiv = document.getElementById("albums");
render();
</script>

</body>
</html>


